# 네트워크 연결 부분

### 1) 네트워크 규모에 따른 분류

- **종류**:

- LAN(Local Area Network): 작은 사무실이나 건물 정도의 내부 네트워크
- MAN(Matro Area Network): 도시 정도를 연결하고 관리하는 네트워크
- WAN(Wide Area Network): 멀리 떨어진 LAN을 연결해주는 네트워크

- 예전에는 LAN 과 MAN, WAN에서 사용하는 기술이 모두 달라 사용하는 프로토콜이나 전송 기술에 따라 쉽게 구분할 수 있었는데 지금은 대부분 이더넷을 사용하기 때문에 관리 범위 기준으로 구분

- MAN은 수~수십KM 범위의 한 도시를 네트워크로 연결하는 개념인데 일반적으로 도시 단위의 네트워크를 구분할 때는 통신사가 이미 갖고 있는 네트워크를 구축하면 WAN으로 보고 자체 인프라를 통해서 네트워크를 구축하면 MAN으로 구분

- **LAN**:

- 홈 네트워크용이나 사무실용 네트워크처럼 비교적 소규모의 네트워크를 의미
- 먼 거리를 통신할 필요가 없어 스위치 와 같은 비교적 간단한 장비로 연결된 네트워크
- 소모 비용, 신뢰도, 구축 및 관리를 위해 다른 다양한 기술이 사용되었지만 현재는 대부분 이더넷 기반 전송 기술을 사용

- **WAN**:

- 먼 거리에 있는 네트워크를 연결하기 위해 사용
- 멀리 떨어진 LAN을 서로 연결하거나 인터넷에 접속하기 위한 네트워크
- 특별한 경우가 아니면 직접 구축할 수 없는 범위의 네트워크이므로 대부분 통신사업자로부터 회선을 임대해서 사용

### 2) 네트워크 회선

- 인터넷 회선

- 인터넷 접속을 위해서 통신 사업자 와 연결하는 회선
- 전용 회선 과 선로 공유 회선으로 나눔
- 전용 회선이 선로 공유 회선보다 속도도 빠르고 안정적

- 전용 회선

- 가입자와 통신 사업자 간에 대역폭(Bandwidth - 속도)을 보장하는 서비스 
- 대역폭을 보장해주는 기술에는 여러가지가 있지만 가입자 와 토인 사업자 간에는 전용 케이블로 연결시켜주고 내부에서 TDM(Time Division Multiplexing) 같은 기술로 마치 직접 연결한 것처럼 통신 품질을 보장
- 인터넷 전용 회선이 아닌 일반 전용 회선은 본사 와 지사 연결에 사용

- 전용 회선 구분
저속
    음성 전송 기술 기반
    64kbps 단위로 구분되어 사용
    작은 기본 단위를 묶어 회선 접속 속도를 높이는 방법
    높은 속도가 필요하지 않을 때나 높은 신뢰성이 필요할 때 사용
    사용 빈도는 점점 줄지만 결재 승인 과 같은 전문(Clear Text) 전송을 위한 VAN(Value Added Network) 연결에는 저속 회선을 사용
    이 기술을 사용하려면 원격지 전송 기술로 변환할 수 있는 라우터가 필요

고속
    메트로 이더넷
    광케이블 기반의 이더넷
    가입자와 통신 사업자 간의 접속 기술은 이더넷을 사용하고 통신 사업자 내부에서는 이런 개별 가입자를 묶어 통신할 수 있는 다른 고속 통신 기술을 이용

- LLCF(Link Loss Carray Forward)
LLCF는 한 쪽 링크가 다운되면 이를 감지해 반대쪽 링크도 다운시키는 기능

전용회선을 이더넷으로 구성할 때 회선사에서 LLCF를 설정하지 않으면 전용회선이 한 곳에서 다운되더라도 반대쪽에서는 회선이 그대로 살아있는 것처럼 보이는 것 때문에 LLCF 설정이 되어있는지 확인을 해야 함

저속 회선은 2계층 프로토콜 통신 상태를 확인하는 기능이 있으므로 라우터에서 상대방 링크가 끊긴 경우 감지할 수 있어서 LLCF 설정이 별도로 필요없음

- VPN(Virtual Private Network)

- 개요
물리적으로는 전용선이 아니지만 가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술
다양한 VPN 기술이 있고 가입자 입장에서의 기술 과 통신 사업자 입장에서의 기술이 별도로 발전

- 통신 사업자 입장에서의 VPN
전용선은 거리가 늘어날 수록 비용이 증가
전용선은 사용 가능한 대역폭을 보장해주지만 가입자가 계약된 대역폭을 항상 100% 사용하는 것은 아니어서 비용이 클 수 있기 때문에 비용 낭비를 줄이고 먼 거리와 연결하더라도 비용을 줄일 수 있게 하기 위해서 통신 사업자가 직접 가입자를 구분할 수 있는 VPN 기술을 사용해서 비용을 줄임

- 가입자 VPN
일반 인터넷망을 이용해서 직접 가상 전용 네트워크를 구성할 수 있음

- 대부분의 경우 VPN 내부에서 통신은 비용을 지불하지 않음

- **DWDM**:

- DWDM(Dense Wavelenth Division Multiplex - 파장 분할 다중화 전송)
- 초창기 광 케이블은 하나의 회선에 하나의 통신만 가능했는데 이렇게 하면 비용이 증가

- NIC(Network Interface Card)

- LAN 카드라고 많이 부르는데 정식 명칭은 NIC
- 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치
- 서버는 여러 네트워크에 동시에 연결되어야 하거나 더 높은 대역폭이 필요한 경우 네트워크 인터페이스를 추가로 장착
- 역할
직렬화(Serialization)
    전기적 신호를 데이터 신호 형태로 또는 데이터 신호 형태를 전기적 신호로 변환해주는 역할을 수행
    네트워크 카드 외부 케이블에서는 전기 신호 형태로 데이터가 전송되는데 이런 상호 변환 작업을 직렬화
MAC Address
    네트워크 인터페이스 카드는 MAC 주소를 가지고 있음
    받은 데이터를 읽어서 도착지 MAC 주소가 자신의 MAC 주소이면 시스템 내부에서 처리할 수 있도록 하고 아니면 폐기
Flow Control(흐름 제어)
    패킷 기반 네트워크에서는 다양한 통신이 하나의 채널을 이용하므로 이미 통신 중인 데이터 처리 때문에 새로운 데이터를 받지 못할 수 있는데 이로 데이터 유실이 발생할 수 있는데 데이터 유실 방지를 위해서 상대방에게 통신 중지를 요청할 수 있는데 이 작업이 흐름 제어 

- 케이블 과 커넥터

- 무선을 많이 이용하는 추세이기는 하지만 신뢰도 높은 통신은 유선을 사용
- 이더넷 네트워크 표준
1000BASE-T/10GBASE-T: 트위스티드 페어 케이블
1000BASE-SX/10GBASE-SR: 멀티 모드 광케이블 - 비교적 가까운 거리 보낼 때
1000BASE-LX/10GBASE-LR: 싱글 모드 광케이블 - 비교적 먼거리 보낼 때
앞의 1000 외부 네트워크와의 속도이고 뒤의 숫자는 내부 네트워크에서의 속도
BASE는 채널
T가 케이블 타입

- **HUB**:

- 케이블 과 동일한 1계층에서 동작하는 장비
- 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고 여러 대의 장비를 연결할 목적으로 사용
- 단순히 들어온 신호를 모든 포트로 내보내 네트워크에 접속된 모든 단말이 경쟁하게 하므로 전체 네트워크 성능이 줄어드는 문제가 있고 패킷이 무한 순환해 네트워크 전체를 마비시키는 루프와 같은 다양한 장애의 원인이 됨

- **Switch**:

- 허브와 동일하게 여러 장비를 연결하고 통신을 중재하는 2계층 장비
- 내부 동작 방식은 허브와 다르지만 여러 장비를 연결하고 케이블을 한 곳으로 모아주는 역할은 유사
- 허브의 역할 과 통신을 중재하는 2가지 역할을 모두 포함하므로 스위칭 허브라고 하기도 합니다.
- MAC 주소를 이해할 수 있어서 목적지 MAC 주소의 위치를 파악하고 목적지가 연결된 포트로만 전기 신호를 보냄

- **Router**:

- OSI 7계층 중 3계층에서 동작하면서 먼 거리로 통신할 수 있는 프로토콜로 변환하는 장비
- 원격지로 쓸데없는 패킷이 전송되지 않도록 브로드캐스트와 멀키캐스트를 컨트롤하고 불문명한 주소로 통신을 시도할 경우 이를 버림
- 정확한 방향으로 통신하도록 하고 최적의 경로로 패킷을 포워딩함
- 일반 사용자가 라우터 장비를 접하기는 어렵지만 라우터와 유사한 역할을 하는 L3 스위치 와 공유기는 쉽게 찾아볼 수 있음

- **LoadBalancer**:

- OSI 7계층 중 4계층 장비
- Application 계층에서 Application 프로토콜의 특징을 이해하고 동작하는 7계층 로드밸런서는 별도로 ADC(Application Delivery Controller)라도 합니다.
- L4 스위치라고 불리는 장비도 로드밸런서의 한 종류로 스위치처럼 여러 포트를 가지고 있으면서 로드밸런서 역할을 하는 장비
- 로드밸런서가 가장 많이 사용되는 곳은 웹 서버
- 웹 서버를 증설하고 싶을 때 로드밸런서를 웹 서버 앞에 두고 웹 서버를 여러 대로 늘려준 후 대표 IP는 로드밸런서가 갖고 로드밸런서가 사용자의 요청을 받아서 패킷의 목적지를 변경해서 전송하는 원리를 이용해 여러 대의 웹 서버가 동시에 동작해서 서비스 성능을 높여주는 동시에 서버에 문제가 발생하더라도 빠른 시간안에 서비스가 복구되도록 도와 줌
- 로드밸런서는 IP 변환 외에도 서비스 헬스 체크 기능이나 대용량 세션 처리 기능을 수행

- 보안 장비

- 대부분의 네트워크 장비는 정확한 정보 전달에 초점이 맞추어져 있지만 보안 장비는 네트워크 장비와 달리 정보를 잘 제어하고 공격을 방어하는데 초점이 맞추어져 있음
- 방어 목적과 보안 장비가 설치되는 위치에 다라 다양한 보안 장비가 사용됨
- 가장 유명한 보안 장비는 방화벽으로 OSI 7계층 중 4계층에서 동작해 방화벽을 통과하는 패킷의 3,4 계층 정보를 확인하고 패킷을 정책과 비교해서 버리거나 포워딩

- IP 공유기

- 2계층의 스위치, 3계층의 라우터, 4ㅖ층의 NAT 와 간단한 방화벽 기능을 한 곳에 모아놓은 장비
- 공유기 내부는 스위치 부분, 그리고 무선 부분 과 라우터 부분 회로로 나눔

- **Modem**:

- 짧은 거리를 통신하는 기술과 먼 거리를 통신할 수 있는 기술이 달라서 이 기술을 변환해주는 장비
- 공유기의 LAN 포트 와 WAN 포트는 모두 일반 이더넷이어서 100m 이상 먼 거리로 데이터를 보내지 못하기 때문에 먼 거리 통신이 가능한 기술로 변환해주는 모뎀이 별도로 필요
- 기가 인터넷의 경우는 FTTH 모뎀을 사용하고 동축 케이블 인터넷은 케이블 모뎀을 사용하고 전화선을 사용할 경우 ADSL, VDSL 모뎀을 사용

