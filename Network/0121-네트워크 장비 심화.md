# 네트워크 장비 심화 (0121)

## 1. L2 Switch (스위치)

### 1) 주요 기능
*   **MAC Address Table**: 포트와 MAC 주소를 매핑.
*   **Flooding**: 목적지 MAC을 모를 때 모든 포트로 전송.
*   **Address Learning**: 들어오는 프레임의 Source MAC을 학습.
*   **Forwarding/Filtering**: 목적지 포트로만 전송하거나 차단.

### 2) VLAN (Virtual LAN)
*   **개요**: 물리적 스위치를 논리적으로 분할하는 기술.
*   **Trunk Port (Tagged)**: 여러 VLAN 트래픽을 전송하는 포트 (802.1Q 태깅).
*   **Access Port (Untagged)**: 단말과 연결되는 포트, 하나의 VLAN만 할당.

### 3) STP (Spanning Tree Protocol)
*   **목적**: L2 네트워크 루프 방지. (Broadcast Storm 방지).
*   **동작**: Root Switch 선출 -> Root Path Cost 계산 -> Block Port 설정.
*   **RSTP/MST**: 수렴 속도 개선 및 다중 인스턴스 지원.

## 2. Router & L3 Switch

### 1) 라우팅 (Routing)
*   패킷의 최적 경로를 지정하여 전달 (L3).
*   **Routing Table**: 목적지 네트워크와 Next Hop 정보를 저장.
*   **TTL (Time To Live)**: 루프 방지를 위해 홉마다 1씩 감소 (0이면 폐기).

### 2) 라우팅 방식
*   **Direct Connected**: 직접 연결된 네트워크.
*   **Static Routing**: 관리자가 수동으로 경로 지정 (AD: 1).
*   **Dynamic Routing**: 프로토콜(OSPF, BGP 등)을 통해 경로 자동 학습.

## 3. Load Balancer (L4/L7 Switch)

### 1) 부하 분산 (Load Balancing)
*   트래픽을 여러 대의 서버로 분산하여 성능 및 가용성 향상.
*   **L4 LB**: IP, Port 기준 분산 (TCP/UDP).
*   **L7 LB (ADC)**: URL, Cookie, HTTP Header 등 애플리케이션 데이터 기준 분산.

### 2) 주요 알고리즘
*   **Round Robin**: 순차적 분산.
*   **Least Connection**: 접속 수가 가장 적은 서버로 분산.
*   **Hash**: Source IP 등을 해싱하여 특정 사용자를 특정 서버에 고정.

### 3) Health Check
*   서버 상태를 주기적으로 확인하여 장애 서버 제외.
*   TCP/UDP Port Check, HTTP Status Code(200 OK), 콘텐츠 매칭 등.
