# Vi/Vim

## 1. VI

### 1) 리눅스 편집기의 종류

- 유닉스부터 사용하던 편집기

- 행 단위 편집기(한 번에 하나의 행씩 편집하는 도구): ed, ex, sed
- 화면 단위 편집기: vi(vim - 일반적으로 사용하는 편집기), emacs, nano(메뉴 기반 편집기)
- GUI 편집기: gedit

- 모드형 편집기 와 비모드형 편집기

- 모드형 편집기
입력 모드 와 명령 모드가 별도로 존재
입력 모드에서는 텍스트를 입력하거나 커서 이동만 가능하고 명령 모드는 텍스트를 수정하거나 삭제하고 복사 와 붙이기 등 편집을 하는 모드
같은 글자라도 입력 모드에서는 입력이 되지만 명령 모드에서는 명령의 키가 됩니다.
vi 편집기가 대표적인 모드형 편집기

- 비모드형 편집기
입력 모드 와 명령 모드가 별도로 존재하지 않음
편집 기능은 CTRL 이나 ALT 와 같은 특수 키 와 함께 사용
nano가 비모드형 편집기

### 2) vim

- vi 이후에 개발된 editor

- **설치**

```bash
sudo apt install vim
```

- 동작 모드

vi 시작하면 명령 모드에서 시작

명령 모드에서 입력 모드로 전환: i, I, a, A, o, O(커서의 위치만 달라짐)
입력 모드에서 명령 모드로 전환: ESC

명령 모드에서 마지막 행 모드로 전환: :, /, ?
마지막 행 모드에서 명령 모드 전환: ESC, Enter

명령 모드에서 저장하고 종료: zz
마지막 행 모드에서 저장하지 않고 종료: q, q!(변경사항이 있을 때)
마지막 행 모드에서 저장하고 종료: wq, wq!(변경사항이 있을 때)

- 시작

```bash
vim [파일 경로]
```

- 해당 파일이 존재하면 편집이고 존재하지 않으면 빈 파일이 열림
- 파일 경로를 생략하면 vim에 대한 설명이 출력
- 수정 권한이 없으면 [읽기 전용]으로 열림

- 작성하고 저장

- 홈 디렉토리에 test.txt로 저장

```bash
vim test.txt
```

- 입력할 내용(i, a, o를 누르고 입력)

```text
ubuntu linux study
I like linux
```

- 저장
ESC를 눌러서 명령 모드로 전환하고 :wq로 저장

- 입력 모드 전환 시 i 와 a 와 o의 차이

| 키 | 설명 |
| --- | --- |
| `i` | 커서 앞에 입력 |
| `a` | 커서 뒤에 입력 |
| `o` | 커서가 위치한 다음 행에 입력 |

- 커서 이동

| 키 | 설명 |
| --- | --- |
| `k` | 커서를 한 행 위로 이동(위 화살표) |
| `j` | 커서를 한 행 아래로 이동(아래 화살표) |
| `l` | 커서를 한 글자 오른쪽으로 이동(오른쪽 화살표) |
| `h` | 커서를 한 글자 왼쪽으로 이동(왼쪽 화살표) |
| `^` | 커서를 현재 행의 처음으로 이동(Home) |
| `Dollar` | 커서를 현재 행의 마지막으로 이동(End) |
| `-` | 커서를 앞 행의 처음으로 이동 |
| `+` | 커서를 다음 행의 처음으로 이동 |
| `H` | 커서를 화면의 맨 윗행으로 이동 |
| `M` | 커서를 화면의 중간행으로 이동 |
| `L` | 커서를 화면의 맨 아랫행으로 이동 |
| `w` | 커서를 다음 단어의 첫 글자로 이동 |
| `b` | 커서를 앞 단어의 첫 글자로 이동 |
| `e` | 커서를 다음 단어의 마지막 글자로 이동 |

- 화면 이동: 내용이 터미널의 크기보다 큰 경우 사용

| 키 | 설명 |
| --- | --- |
| `^u` | 반 화면 위로 이동 |
| `^d` | 반 화면 아래로 이동 |
| `^b` | 한 화면 위로 이동(PageUp) |
| `^f` | 한 화면 아래로 이동(PageDown) |
| `^y` | 화면 한 행만 위로 이동 |
| `^e` | 화면을 한 행만 아래로 이동 |
