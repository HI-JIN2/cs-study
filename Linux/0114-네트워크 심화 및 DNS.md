# 네트워크 심화 및 DNS (0114)

## 1. 네트워크 주소 설정 도구

### 1) ip 명령어
*   `ifconfig`를 대체하는 최신 네트워크 관리 도구.
*   **주소 관리**:
    *   `ip addr show`: IP 주소 확인.
    *   `ip addr add 192.168.1.10/24 dev eth0`: IP 주소 추가.
    *   `ip addr del 192.168.1.10/24 dev eth0`: IP 주소 삭제.
*   **라우팅**:
    *   `ip route show`: 라우팅 테이블 확인.
    *   `ip route add default via 192.168.1.1`: 기본 게이트웨이 설정.

### 2) Netplan
*   우분투 17.10부터 도입된 YAML 기반 네트워크 설정 도구.
*   설정 파일 위치: `/etc/netplan/*.yaml`
*   **설정 예시**:
    ```yaml
    network:
      version: 2
      renderer: networkd
      ethernets:
        enp0s3:
          dhcp4: no
          addresses: [192.168.0.101/24]
          gateway4: 192.168.0.1
          nameservers:
            addresses: [8.8.8.8, 1.1.1.1]
    ```
*   **적용**: `sudo netplan apply`

### 3) Hostname 설정
*   `hostname`: 현재 호스트 이름 확인.
*   `hostnamectl set-hostname [이름]`: 호스트 이름 영구 변경.
*   `/etc/hosts`: 로컬 DNS 매핑 파일. (IP 호스트이름 순서로 기록)

## 2. DNS 및 네트워크 문제 해결

### 1) DNS (Domain Name System)
*   도메인 이름(www.google.com)을 IP 주소로 변환하는 시스템.
*   **우선순위**: `/etc/hosts` -> DNS Cache -> DNS Server (`/etc/resolv.conf`).
*   **nslookup**: DNS 질의 도구. (`nslookup www.google.com`)

### 2) 네트워크 연결 확인 도구
*   **ping**: ICMP 프로토콜을 이용해 대상 호스트의 응답 확인.
*   **netstat**: 네트워크 연결 상태 및 포트 확인.
    *   `netstat -tuln`: Listening 중인 TCP/UDP 포트 확인.
*   **arp**: MAC 주소 테이블 확인.
*   **tcpdump**: 패킷 캡처 및 분석 도구.
    *   `tcpdump -i eth0`: eth0 인터페이스의 패킷 캡처.
